---


---

<h1 id="tutorial-1.-hyperledger-fabric-v2.0---create-a-development-business-network"><a href="#tutorial-1.-hyperledger-fabric-v2.0---create-a-development-business-network"></a>Tutorial 1. Hyperledger Fabric V2.0 - Create a Development Business Network</h1>
<p>This article is a tutorial that guides you on how to create a Hyperledger Fabric v.2.0 business network on Ubuntu 16.04 LTS using the development tools that are found in the Hyperledger Fabric repository.</p>
<p>We will go through the process of setting up the Hyperledger Fabric prerequisites and later on we define and start the Hyperledger Fabric blockchain network between three organizations.</p>
<ul>
<li><a href="#tutorial-1.-hyperledger-fabric-v2.0---create-a-development-business-network">Tutorial 1: Hyperledger Fabric V2.0 - Create a Development Business Network on Ubuntu 16.04 LTS</a>
<ul>
<li><a href="#recommended-reading">Recommended Reading</a></li>
</ul>
</li>
<li><a href="#setup-your-environment">Setup Your Environment</a>
<ul>
<li><a href="#utility-packages">Utility Packages</a></li>
<li><a href="#docker">Docker</a></li>
<li><a href="#docker-compose">Docker Compose</a></li>
<li><a href="#go-language">Go language</a></li>
<li><a href="#nodejs">NodeJS</a></li>
</ul>
</li>
<li><a href="#retrieve-artifacts-from-hyperledger-fabric-repsitories">Retrieve Artifacts from Hyperledger Fabric Repsitories</a></li>
<li><a href="#create-hyperledger-fabric-business-network">Create Hyperledger Fabric Business Network</a>
<ul>
<li><a href="#create-project-directory">Create Project Directory</a></li>
<li><a href="#generate-peer-and-orderer-certificates">Generate Peer and Orderer Certificates</a></li>
<li><a href="#create-channeltx-and-the-genesis-block-using-the-configtxgen-tool">Create channel.tx and the Genesis Block Using the configtxgen Tool</a>
<ul>
<li><a href="#creatingmodifying-configtxyaml">Creating/Modifying  <code>configtx.yaml</code></a></li>
<li><a href="#executing-the-configtxgen-tool">Executing the configtxgen Tool</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#start-the-hyperledger-fabric-blockchain-network">Start the Hyperledger Fabric blockchain network</a>
<ul>
<li><a href="#modifying-the-docker-compose-yaml-files">Modifying the docker-compose yaml Files</a></li>
<li><a href="#before-running-docker-containers">Before running docker containers</a></li>
<li><a href="#start-the-docker-containers">Start the docker Containers</a></li>
<li><a href="#the-channel">The channel</a>
<ul>
<li><a href="#create-the-channel">Create the channel</a></li>
<li><a href="#join-channel">Join channel</a></li>
<li><a href="#update-anchor-peers">Update anchor peers</a></li>
</ul>
</li>
<li><a href="#prepare-chaincode">Prepare chaincode</a></li>
<li><a href="#install-chaincode">Install chaincode</a></li>
<li><a href="#instantiate-chaincode">Instantiate chaincode</a></li>
<li><a href="#execute-tutorial-scenario">Execute tutorial scenario</a>
<ul>
<li><a href="#query-for-initial-state-of-the-ledger">Query for initial state of the ledger</a></li>
<li><a href="#invoke-chaincode">Invoke chaincode</a></li>
<li><a href="#query-for-the-new-values">Query for the new values</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#summary">Summary</a></li>
<li><a href="#what-is-next">What is Next?</a></li>
<li><a href="#references">References?</a></li>
</ul>
<h2 id="recommended-reading"><a href="#recommended-reading"></a>Recommended Reading</h2>
<p>Before you start this tutorial, you may want to get familiar with the basic concepts of Hyperledger Fabric. Official Hyperledger Fabric documentation provides a comprehensive source of information related to Hyperledger Fabric configuration, modes of operation and prerequisites. We recommend to read the following articles and use them as the reference when going through this tutorial.</p>
<ul>
<li>Hyperledger Fabric Glossary -  <a href="http://hyperledger-fabric.readthedocs.io/en/latest/glossary.html">http://hyperledger-fabric.readthedocs.io/en/latest/glossary.html</a></li>
<li>Hyperledger Fabric Model -  <a href="http://hyperledger-fabric.readthedocs.io/en/latest/fabric_model.html">http://hyperledger-fabric.readthedocs.io/en/latest/fabric_model.html</a></li>
<li>Hyperledger Fabric Prerequisities -  <a href="http://hyperledger-fabric.readthedocs.io/en/latest/prereqs.html">http://hyperledger-fabric.readthedocs.io/en/latest/prereqs.html</a></li>
<li>Hyperledger Fabric Samples -  <a href="https://github.com/hyperledger/fabric-samples">https://github.com/hyperledger/fabric-samples</a></li>
<li>Building Your First Network -  <a href="http://hyperledger-fabric.readthedocs.io/en/latest/build_network.html">http://hyperledger-fabric.readthedocs.io/en/latest/build_network.html</a></li>
</ul>
<h2 id="setup-your-environment"><a href="setup-your-environment"></a>Setup Your Environment</h2>
<h3 id="utility-packages"><a href="#utility-packages"></a>Utility Packages</h3>
<h3 id="docker"><a href="#docker"></a>Docker</h3>
<p>Docker is a tool for deploying, executing, and managing containers. Hyperledger Fabric is by default packaged as a set of Docker images and it is ready to be run as Docker container.</p>
<p>To install the Docker, we can go to  <a href="https://docs.docker.com/install/linux/docker-ce/ubuntu/">Docker website</a>:</p>
<p><strong>SETUP THE REPOSITORY</strong></p>
<ol>
<li>Update the <code>apt</code> package index:<pre><code> $ sudo apt-get update
</code></pre>
</li>
<li>Install packages to allow <code>apt</code> to use a repository over HTTPS:<pre><code> $ sudo apt-get install \
     apt-transport-https \
     ca-certificates \
     curl \
     gnupg-agent \
     software-properties-common
</code></pre>
</li>
<li>Add Docker’s official GPG key:<pre><code> $ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
</code></pre>
Verify that you now have the key with the fingerprint <code>9DC8 5822 9FC7 DD38 854A E2D8 8D81 803C 0EBF CD88</code>, by searching for the last 8 characters of the fingerprint.<pre><code> $ sudo apt-key fingerprint 0EBFCD88
    
 pub   rsa4096 2017-02-22 [SCEA]
       9DC8 5822 9FC7 DD38 854A  E2D8 8D81 803C 0EBF CD88
 uid           [ unknown] Docker Release (CE deb) &lt;docker@docker.com&gt;
 sub   rsa4096 2017-02-22 [S]
</code></pre>
</li>
<li>Use the following command to set up the  <strong>stable</strong>  repository.<pre><code> $ sudo add-apt-repository \
    "deb [arch=amd64] https://download.docker.com/linux/ubuntu \
    $(lsb_release -cs) \
    stable"
</code></pre>
</li>
</ol>
<p><strong>INSTALL DOCKER ENGINE - COMMUNITY</strong></p>
<ol>
<li>Update the  <code>apt</code>  package index.<pre><code> $ sudo apt-get update
</code></pre>
</li>
<li>Install the  <em>latest version</em>  of Docker Engine - Community and containerd, or go to the next step to install a specific version:<pre><code> $ sudo apt-get install docker-ce docker-ce-cli containerd.io
</code></pre>
Adding your user to the “docker” group<pre><code> sudo usermod -aG docker $USER
</code></pre>
<strong>After adding docker to current user group, please logout and login again.</strong></li>
</ol>
<h3 id="docker-compose"><a href="#docker-compose"></a>Docker Compose</h3>
<p>Docker Compose is a tool for defining and running multi-container Docker applications. This is the case of Hyperledger Fabric default setup.</p>
<p>Docker Compose is typically installed as a part of your Docker installation. If not, it is necessary to install it separately. Run  <code>docker-compose --version</code>  command to find out if Docker Compose is present on your system.</p>
<p>To install Docker Compose on your Ubuntu 16.04 LTS system, please follow the instructions describe below or  <a href="https://docs.docker.com/compose/install/#install-compose">follow the instruction how to install the docker compose in docker website</a>:</p>
<ol>
<li>Run this command to download the current stable release of Docker Compose:<pre><code> sudo curl -L "https://github.com/docker/compose/releases/download/1.25.4/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
</code></pre>
</li>
</ol>
<blockquote></blockquote>
<ol start="2">
<li>Apply executable permissions to the binary:<pre><code> sudo chmod +x /usr/local/bin/docker-compose
</code></pre>
Check the docker-compose version:<pre><code> $ docker-compose --version
 docker-compose version 1.25.4, build 1110ad01
</code></pre>
</li>
</ol>
<h3 id="go-language"><a href="#go-language"></a>Go language</h3>
<p>In this tutorial, we use the Go language as the basis of chaincode in Hyperledger Fabric. For Hyperledger Fabric, the Go language version is 1.13.x is required.</p>
<p>To install the Go language in the system, please follow the below instructions:</p>
<ol>
<li>Download the golang file.<pre><code> $ wget https://dl.google.com/go/go1.13.8.linux-amd64.tar.gz
</code></pre>
</li>
<li>Extract it in home directory.<pre><code> $ tar -xvf go1.13.8.linux-amd64.tar.gz
</code></pre>
</li>
<li>Create a <code>gopath</code> directory in <strong>HOME directory</strong><pre><code> $ mkdir $HOME/gopath
</code></pre>
Then we need to set the <strong>Environment Variables</strong> for our Golang in <code>~/.bashrc</code> file such <code>GOPATH</code>, <code>GOROOT</code>, or <code>GOBIN</code>.<pre><code> # set GOPATH and GOROOT
 export GOPATH=$HOME/gopath
 export GOROOT=$HOME/go
 export GOBIN=$HOME/go/bin
 export PATH=$PATH:/$GOROOT/bin
</code></pre>
Then run the command <code>source ~/.bashrc</code> to build the environment variables in the <strong>.bashrc</strong> file</li>
</ol>
<h3 id="nodejs"><a href="nodejs"></a>NodeJS</h3>
<p>If you will be developing applications for Hyperledger Fabric leveraging the Hyperledger Fabric SDK for Node.js, version 8 is supported from 8.9.4 and higher. Node.js version 10 is supported from 10.15.3 and higher.<br>
Follow the instructions below to download and install <strong>NodeJS</strong>.</p>
<pre><code> $ curl -sL https://deb.nodesource.com/setup_10.x | sudo -E bash -
 $ sudo apt-get install -y nodejs
</code></pre>
<h2 id="retrieve-artifacts-from-hyperledger-fabric-repsitories"><a href="retrieve-artifacts-from-hyperledger-fabric-repsitories"></a>Retrieve Artifacts from Hyperledger Fabric Repsitories</h2>
<p>To download and install  <strong>Hyperledger Fabric binaries</strong>  specific to your platform. This include downloading of  <code>cryptogen</code>,  <code>configtxgen</code>,  <code>configtxlator</code>,  <code>fabric-ca-client</code>,  <code>get-docker-images.sh</code>,  <code>orderer</code>  and  <code>peer</code>  tools and placing them into  <code>bin</code>  directory in the directory of your choice. In addition, the script will download Hyperlerdger Docker images into your local Docker registry.</p>
<p>Execute the following command to download Hyperledger Fabric binaries and Docker images:</p>
<pre><code> curl -sSL https://bit.ly/2ysbOFE | bash -s -- &lt;fabric_version&gt; &lt;fabric-ca_version&gt; &lt;thirdparty_version&gt;
 
 curl -sSL https://bit.ly/2ysbOFE | bash -s -- 2.0.1 1.4.6 0.4.18
</code></pre>
<p><strong>RUN</strong></p>
<pre><code> curl -sSL https://bit.ly/2ysbOFE | bash -s -- 2.0.1 1.4.6 0.4.18
</code></pre>

